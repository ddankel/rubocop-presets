# Common configuration.

AllCops:
  RubyInterpreters:
    - ruby
    - macruby
    - rake
    - jruby
    - rbx
  # Include common Ruby source files.
  Include:
    - "**/*.rb"
    - "**/*.arb"
    - "**/*.axlsx"
    - "**/*.builder"
    - "**/*.fcgi"
    - "**/*.gemfile"
    - "**/*.gemspec"
    - "**/*.god"
    - "**/*.jb"
    - "**/*.jbuilder"
    - "**/*.mspec"
    - "**/*.opal"
    - "**/*.pluginspec"
    - "**/*.podspec"
    - "**/*.rabl"
    - "**/*.rake"
    - "**/*.rbuild"
    - "**/*.rbw"
    - "**/*.rbx"
    - "**/*.ru"
    - "**/*.ruby"
    - "**/*.spec"
    - "**/*.thor"
    - "**/*.watchr"
    - "**/.irbrc"
    - "**/.pryrc"
    - "**/buildfile"
    - "**/Appraisals"
    - "**/Berksfile"
    - "**/Brewfile"
    - "**/Buildfile"
    - "**/Capfile"
    - "**/Cheffile"
    - "**/Dangerfile"
    - "**/Deliverfile"
    - "**/Fastfile"
    - "**/*Fastfile"
    - "**/Gemfile"
    - "**/Guardfile"
    - "**/Jarfile"
    - "**/Mavenfile"
    - "**/Podfile"
    - "**/Puppetfile"
    - "**/Rakefile"
    - "**/Snapfile"
    - "**/Steepfile"
    - "**/Thorfile"
    - "**/Vagabondfile"
    - "**/Vagrantfile"
  Exclude:
    - "node_modules/**/*"
    - "tmp/**/*"
    - "vendor/**/*"
    - ".git/**/*"
    - "bin/**/*"
    - "tmp/**/*"
    - "public/system/**/*"
    - "db/schema.rb"
  DisplayCopNames: true
  # NewCops: enable

#################### Layout ###########################

Layout/EmptyLines:
  Enabled: false

Layout/EmptyLinesAroundClassBody:
  EnforcedStyle: empty_lines

Layout/EmptyLinesAroundModuleBody:
  EnforcedStyle: empty_lines

Layout/EmptyLineBetweenDefs:
  AllowAdjacentOneLineDefs: false
  NumberOfEmptyLines: 2

Layout/ExtraSpacing:
  AllowForAlignment: true
  AllowBeforeTrailingComments: true
  ForceEqualSignAlignment: false

Layout/HashAlignment:
  EnforcedColonStyle: table
  EnforcedHashRocketStyle: table

Layout/LineLength:
  Max: 99
  AllowHeredoc: true
  AllowURI: true
  URISchemes:
    - http
    - https
  IgnoredPatterns:
    - "=>"
    - "->"
  Exclude:
    - "Gemfile"

Layout/MultilineMethodCallIndentation:
  EnforcedStyle: aligned

Layout/ParameterAlignment:
  EnforcedStyle: with_first_parameter

Layout/SpaceAroundMethodCallOperator:
  Enabled: true

#################### Lint ###############################

Lint/RaiseException:
  Enabled: true

Lint/StructNewOverride:
  Enabled: true

#################### Metrics ###############################

Metrics/AbcSize:
  Max: 25

Metrics/BlockLength:
  Exclude:
    - lib/tasks/**/*
    - config/environments/*.rb
    - spec/**/*_spec.rb
    - spec/factories/*.rb
    - spec/support/shared/**/*.rb
    - app/admin/**/*.rb
    - config/routes.rb

Metrics/ClassLength:
  CountComments: false
  Max: 250
  Exclude:
    - config/routes.rb

Metrics/MethodLength:
  Max: 25

#################### Naming ##############################
Naming/VariableNumber:
  EnforcedStyle: snake_case

#################### Style ###############################

Style/EmptyMethod:
  EnforcedStyle: expanded

Style/ExponentialNotation:
  Enabled: true

Style/FrozenStringLiteralComment:
  Enabled: false

Style/HashEachMethods:
  Enabled: false

Style/HashTransformKeys:
  Enabled: true

Style/HashTransformValues:
  Enabled: true

Style/Lambda:
  Exclude:
    - app/models/**/*.rb

Style/MixinGrouping:
  EnforcedStyle: grouped

Style/MutableConstant:
  Exclude:
    - config/initializers/app_version.rb

Style/StringLiterals:
  Enabled: false

Style/SymbolArray:
  EnforcedStyle: brackets

Style/WordArray:
  EnforcedStyle: brackets
  Exclude:
    - config/application.rb
